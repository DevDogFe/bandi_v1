<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bandi.novel.repository.NovelSectionRepository">

	<select id="selectListByNovelId" resultType="com.bandi.novel.model.NovelSection">
		SELECT * FROM novel_section_tb
		WHERE novel_id = #{id}
		ORDER BY id DESC
	</select>

	<insert id="insert">
		INSERT INTO novel_section_tb (novel_id, title, content, list_price, current_price)
		VALUES (#{novelId}, #{title}, #{content}, #{listPrice}, #{currentPrice});
	</insert>
	
	<select id="selectById" resultType="com.bandi.novel.model.NovelSection">
		SELECT * FROM novel_section_tb
		WHERE id = #{id}
	</select>
	
	<update id="updateViewsById">
		UPDATE novel_section_tb 
		SET views = views + 1
		WHERE id = #{sectionId}
	</update>

</mapper>